(this["webpackJsonpsputnik-s"]=this["webpackJsonpsputnik-s"]||[]).push([[0],{127:function(e,t,s){"use strict";s.d(t,"b",(function(){return i}));var n=s(45),r=s(3),a={talkers:[{name:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439",id:1},{name:"\u0410\u0440\u0442\u0435\u043c",id:2},{name:"\u041d\u0430\u0442\u0430\u043b\u044c\u044f",id:3},{name:"\u0410\u0431\u0440\u0430\u043a\u0430\u0434\u0430\u0431\u0440\u0430",id:4},{name:"\u0418\u0432\u0430\u043d",id:5},{name:"\u0421\u0435\u043c\u0451\u043d",id:6},{name:"\u041e\u043b\u0435\u0433",id:7},{name:"\u041a\u043b\u0430\u0432\u0430",id:8},{name:"\u0418\u043b\u044c\u044f",id:9},{name:"\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d",id:10}],texts:[{id:1,text:"\u041f\u0440\u0438\u0432\u0435\u0442, \u043a\u0430\u043a \u0434\u0435\u043b\u0430"},{id:2,text:"\u0412\u0441\u0451 \u043e\u0442\u043b\u0438\u0447\u043d\u043e"},{id:3,text:"\u0423 \u043c\u0435\u043d\u044f \u0442\u043e\u0436\u0435 \u0432\u0441\u0451 \u0445\u043e\u0440\u043e\u0448\u043e"}]},i=function(e){return{type:"SEND-MESSAGE",messageInput:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var s={id:e.texts.length+1,text:t.messageInput};return Object(r.a)(Object(r.a)({},e),{},{texts:[].concat(Object(n.a)(e.texts),[s])});default:return e}}},14:function(e,t,s){e.exports={profile:"Profile_profile__26d_Q",profile__photo:"Profile_profile__photo__32FXU",profile__img_box:"Profile_profile__img_box__3q1Cu",profile__img:"Profile_profile__img__3f6gu",profile__editbutton:"Profile_profile__editbutton__1ap-w",profile__info:"Profile_profile__info__3qb_e",profile__fullname_block:"Profile_profile__fullname_block__2-Vh9",profile__fullname:"Profile_profile__fullname__3WoGT",profile__status:"Profile_profile__status__3t6ZB",profile__userdata_block:"Profile_profile__userdata_block__2RxEZ",profile__userdata_title:"Profile_profile__userdata_title__rMjyR",profile__userdata:"Profile_profile__userdata__2y1Jo",profile__userdata_key:"Profile_profile__userdata_key__3vYVC",profile__userdata_value:"Profile_profile__userdata_value__1n1Jg"}},164:function(e,t,s){},24:function(e,t,s){e.exports={header:"Header_header__2UhcZ",header__row:"Header_header__row__1Kuyj",header__about:"Header_header__about__2zBAA",header__user:"Header_header__user__1VOjI",header__name_info:"Header_header__name_info__2a19W",header__logo:"Header_header__logo__HE57S",header__name:"Header_header__name__2dGQL",header__username:"Header_header__username__1m8Yt",header__useravatar:"Header_header__useravatar__1EB8M"}},25:function(e,t,s){e.exports={menu__wrapper:"Menu_menu__wrapper__UpHKh",menu:"Menu_menu__39c1Z",active:"Menu_active__2J8kV"}},26:function(e,t,s){e.exports={users__block:"Users_users__block__3j8A6",user:"Users_user__KZoXb",users__avatar:"Users_users__avatar__G1AA7",users__fullname:"Users_users__fullname__3VZTJ",users__location:"Users_users__location__1ZoWa",users__location_city:"Users_users__location_city__VCgG3",button__block:"Users_button__block__Ps62o",spinner:"Users_spinner__aPcZ6",paginator:"Users_paginator__3tQmj",active:"Users_active__2pmZs"}},291:function(e,t,s){"use strict";s.r(t);var n,r=s(1),a=s.n(r),i=s(67),c=s.n(i),o=(s(164),s(29)),u=s(30),l=s(33),_=s(32),d=s(10),j=s(45),p=s(3),b=s(131),f=s.n(b).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d79c7025-7438-4832-ae51-e52b18f7c68c"}}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return f.get("profile/".concat(e)).then((function(e){return e.data}))},O=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f.post("auth/login",{email:e,password:t,rememberMe:s})},m=function(e){return f.get("profile/status/".concat(e)).then((function(e){return e.data}))},g=function(e){return f.put("profile/status",{status:e}).then((function(e){return e.data}))},x={users:[],pageSize:6,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[1]},v=function(e){return{type:"TOGGLE-FETCHING",isFetching:e}},P=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",followingInProgress:e,userId:t}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(p.a)(Object(p.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(p.a)(Object(p.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.users});case"SET-CURRENT-PAGE":return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-USERS-COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE-FETCHING":return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(p.a)(Object(p.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(j.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},N=s(26),S=s.n(N),E=s.p+"static/media/friend.3232cee7.jpg",k=s(12),C=s(132),I=s.n(C),y=s(0),T=function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:S.a.paginator,children:Object(y.jsx)(I.a,{onChange:e.onPageChanged,totalItemsCount:e.totalUsersCount,activePage:e.currentPage,itemsCountPerPage:e.pageSize,pageRangeDisplayed:5})}),e.users.map((function(t){return Object(y.jsx)("div",{className:S.a.users__block,children:Object(y.jsxs)("div",{className:S.a.user,children:[Object(y.jsx)("div",{className:S.a.users__avatar,children:Object(y.jsx)(k.b,{to:"/profile/"+t.id,children:Object(y.jsx)("img",{src:null!=t.photos.small?t.photos.small:E,alt:""})})}),Object(y.jsx)("div",{className:S.a.users__fullname,children:t.name}),Object(y.jsx)("div",{className:S.a.button__block,children:t.followed?Object(y.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:"\u041e\u0442\u043f\u0438\u0441\u043a\u0430"}):Object(y.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})]})},t.id)}))]})},U=s(11),A=s.p+"static/media/spinner.f598f470.svg",L=function(){return Object(y.jsx)("div",{className:S.a.spinner,children:Object(y.jsx)("img",{src:A,alt:""})})},F=s(9),R=s(68),G=function(e){Object(l.a)(s,e);var t=Object(_.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(y.jsx)("div",{children:this.props.isFetching?Object(y.jsx)(L,{}):Object(y.jsx)(T,{users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,totalUsersCount:this.props.totalUsersCount,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress})})}}]),s}(r.Component),M=Object(F.d)(R.a,Object(U.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:function(e){return function(t){t(P(!0,e)),function(e){return f.post("follow/".concat(e))}(e).then((function(s){0===s.data.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(P(!1,e))}))}},unfollow:function(e){return function(t){t(P(!0,e)),function(e){return f.delete("follow/".concat(e))}(e).then((function(s){0===s.data.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(P(!1,e))}))}},getUsers:function(e,t){return function(s){s(v(!0)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return f.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))}(e,t).then((function(t){s(v(!1)),s({type:"SET-USERS",users:t.items}),s({type:"SET-TOTAL-USERS-COUNT",totalUsersCount:t.totalCount}),s(function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}}(e))}))}},toggleFollowingProgress:P}))(G),H=s(19),z=s.n(H),D=s(39),Z={posts:[{id:1,text:"\u041a\u0430\u043a\u0430\u044f \u0436\u0435 \u043a\u0440\u0430\u0441\u0438\u0432\u0430\u044f \u0442\u0443\u0442 \u043f\u0440\u0438\u0440\u043e\u0434\u0430, \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u0438\u0432\u0443 \u0434\u0430\u0435\u0448\u044c\u0441\u044f. \u041a\u0442\u043e \u043d\u0435 \u043b\u0430\u0439\u043a\u0430\u0435\u0442, \u0442\u043e\u0442 \u043d\u0435 \u043b\u044e\u0431\u0438\u0442 \u043f\u0440\u0438\u0440\u043e\u0434\u0443. \u0424\u0443 \u0442\u0430\u043a\u0438\u043c\u0438 \u0431\u044b\u0442\u044c",likes:28,comments:6},{id:2,text:"\u042d\u0442\u043e \u043f\u043e\u0441\u0442 \u043d\u043e\u043c\u0435\u0440 2, \u0436\u0438\u0432\u0438 \u0441 \u044d\u0442\u0438\u043c",likes:9,comments:2}],profile:null,status:""},W=function(e){return{type:"SET-USER-PROFILE",profile:e}},J=function(e){return{type:"SET-STATUS",status:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var s={id:e.posts.length+1,text:t.postInput,likes:0,comments:0};return Object(p.a)(Object(p.a)({},e),{},{posts:[].concat(Object(j.a)(e.posts),[s])});case"SET-USER-PROFILE":return Object(p.a)(Object(p.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(p.a)(Object(p.a)({},e),{},{status:t.status});default:return e}},B=s(14),X=s.n(B),q=function(e){var t=e.profile;return Object(y.jsxs)("div",{className:X.a.profile,children:[Object(y.jsxs)("div",{className:X.a.profile__photo,children:[Object(y.jsx)("div",{className:X.a.profile__img_box,children:Object(y.jsx)("img",{className:X.a.profile__img,src:t.photos.large?t.photos.large:E,alt:""})}),Object(y.jsx)("button",{className:X.a.profile__editbutton,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]}),Object(y.jsxs)("div",{className:X.a.profile__info,children:[Object(y.jsxs)("div",{className:X.a.profile__fullname_block,children:[Object(y.jsx)("div",{className:X.a.profile__fullname,children:t.fullName}),Object(y.jsx)("div",{className:X.a.profile__status,children:"online"})]}),Object(y.jsxs)("div",{className:X.a.profile__userdata_block,children:[Object(y.jsx)("div",{className:X.a.profile__userdata_title,children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(y.jsxs)("div",{className:X.a.profile__userdata,children:[Object(y.jsxs)("div",{className:X.a.profile__userdata_key,children:[Object(y.jsx)("div",{children:"\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:"}),Object(y.jsx)("div",{children:"\u0421\u0442\u0440\u0430\u043d\u0430:"}),Object(y.jsx)("div",{children:"\u0413\u043e\u0440\u043e\u0434:"}),Object(y.jsx)("div",{children:"\u0421\u0435\u043c\u0435\u0439\u043d\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441:"}),Object(y.jsx)("div",{children:"\u042f\u0437\u044b\u043a\u0438:"}),Object(y.jsx)("div",{children:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f:"})]}),Object(y.jsxs)("div",{className:X.a.profile__userdata_value,children:[Object(y.jsx)("div",{children:"30.10.1984"}),Object(y.jsx)("div",{children:"\u0420\u043e\u0441\u0441\u0438\u044f"}),Object(y.jsx)("div",{children:"\u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a"}),Object(y.jsx)("div",{children:"\u0436\u0435\u043d\u0430\u0442"}),Object(y.jsx)("div",{children:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439, \u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"}),Object(y.jsx)("div",{children:"\u0420\u0438\u043c\u0441\u043a\u0438\u0439 \u043b\u0435\u0433\u0438\u043e\u043d\u0435\u0440, \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442"})]})]})]})]})]})},K=s(46),Y=s.n(K),Q=s(35),$=s.n(Q),ee=s.p+"static/media/post1.ec505fba.jpg",te=s.p+"static/media/heart.c2bf5c20.svg",se=s.p+"static/media/comment.2b731f9b.svg",ne=function(e){return Object(y.jsxs)("div",{className:$.a.post,children:[Object(y.jsxs)("div",{className:$.a.post__image_and_likes,children:[Object(y.jsx)("div",{className:$.a.post__image_box,children:Object(y.jsx)("img",{src:ee,alt:""})}),Object(y.jsxs)("div",{className:$.a.post__image_likes_box,children:[Object(y.jsxs)("div",{className:$.a.post__image_likes,children:[Object(y.jsx)("img",{src:te,alt:""}),Object(y.jsx)("div",{children:e.likes})]}),Object(y.jsxs)("div",{className:$.a.post__image_comment,children:[Object(y.jsx)("img",{src:se,alt:""}),Object(y.jsx)("div",{children:e.comments})]})]})]}),Object(y.jsx)("div",{className:$.a.post__text_box,children:Object(y.jsx)("p",{children:e.text})})]})},re=s(128),ae=s(129),ie=function(e){if(!e)return"\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},ce=s(73),oe=s(91),ue=s.n(oe),le=["input","meta","child"],_e=["input","meta","child"],de=["input","meta","child"],je=function(e){e.input;var t=e.meta,s=(e.child,Object(ce.a)(e,le)),n=t.touched&&t.error;return Object(y.jsxs)("div",{className:ue.a.formControl+" "+(n?ue.a.error:""),children:[s.children,n&&Object(y.jsx)("span",{children:t.error})]})},pe=function(e){var t=e.input,s=(e.meta,e.child,Object(ce.a)(e,_e));return Object(y.jsx)(je,Object(p.a)(Object(p.a)({},e),{},{children:Object(y.jsx)("textarea",Object(p.a)(Object(p.a)({},t),s))}))},be=function(e){var t=e.input,s=(e.meta,e.child,Object(ce.a)(e,de));return Object(y.jsx)(je,Object(p.a)(Object(p.a)({},e),{},{children:Object(y.jsx)("input",Object(p.a)(Object(p.a)({},t),s))}))},fe=(n=10,function(e){if(e.length>n)return"\u043f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0430 \u0434\u043b\u0438\u043d\u0430 \u0432 ".concat(n," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),he=Object(ae.a)({form:"postInput"})((function(e){return Object(y.jsx)("form",{onSubmit:e.handleSubmit,className:Y.a.posts__writenew_wrapper,children:Object(y.jsxs)("div",{className:Y.a.posts__writenew,children:[Object(y.jsx)(re.a,{className:Y.a.posts__whats_new,rows:"2",placeholder:"\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",name:"postInput",component:pe,validate:[ie,fe]}),Object(y.jsx)("button",{children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})})})),Oe=function(e){var t=e.posts.map((function(e){return Object(y.jsx)(ne,{text:e.text,likes:e.likes,comments:e.comments},e.id)}));return Object(y.jsxs)("div",{className:Y.a.posts,children:[Object(y.jsx)(he,{onSubmit:function(t){e.addNewPost(t.postInput)}}),Object(y.jsx)("div",{className:Y.a.posts,children:t})]})},me=s(95),ge=s(94),xe=s.n(ge),ve=function(e){var t=Object(r.useState)(!1),s=Object(me.a)(t,2),n=s[0],a=s[1],i=Object(r.useState)(e.status),c=Object(me.a)(i,2),o=c[0],u=c[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return n?Object(y.jsx)("div",{className:xe.a.status__input,children:Object(y.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){a(!1),e.updateStatus(o)},value:o,autoFocus:!0})}):Object(y.jsx)("div",{className:xe.a.status,children:Object(y.jsx)("div",{onDoubleClick:function(){a(!0)},children:e.status||"---"})})},Pe=function(e){return e.profile?Object(y.jsxs)("div",{children:[Object(y.jsx)(q,{profile:e.profile}),Object(y.jsx)(ve,{status:e.status,updateStatus:e.updateStatus}),Object(y.jsx)(Oe,{posts:e.posts,addNewPost:e.addNewPost,profile:e.profile})]}):Object(y.jsx)(L,{})},we=function(e){Object(l.a)(s,e);var t=Object(_.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(y.jsx)(Pe,Object(p.a)({},this.props))}}]),s}(r.Component),Ne=Object(F.d)(R.a,Object(U.b)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile,status:e.profilePage.status}}),{addNewPost:function(e){return{type:"ADD-POST",postInput:e}},setUserProfile:W,setStatus:J,updateStatus:function(e){return function(){var t=Object(D.a)(z.a.mark((function t(s){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:0===t.sent.resultCode&&s(J(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getProfile:function(e){return function(t){h(e).then((function(e){return t(W(e))}))}},getStatus:function(e){return function(){var t=Object(D.a)(z.a.mark((function t(s){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:n=t.sent,s(J(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.f)(we),Se=s(24),Ee=s.n(Se),ke=s.p+"static/media/logo.7f61c9b4.svg",Ce=s.p+"static/media/default_small.a246ddc1.jpeg",Ie=function(e){return Object(y.jsx)("div",{className:Ee.a.header,children:Object(y.jsxs)("div",{className:Ee.a.header__row,children:[Object(y.jsxs)("div",{className:Ee.a.header__about,children:[Object(y.jsx)("div",{className:Ee.a.header__logo,children:Object(y.jsx)("img",{src:ke,alt:""})}),Object(y.jsx)("div",{className:Ee.a.header__name,children:"Sputnik"})]}),Object(y.jsx)("div",{className:Ee.a.header__name_info}),e.isAuth?Object(y.jsxs)("div",{className:Ee.a.header__user,children:[Object(y.jsx)("div",{className:Ee.a.header__username,children:e.login}),Object(y.jsx)("div",{className:Ee.a.header__useravatar,onClick:e.logout,children:e.user?Object(y.jsx)("img",{src:e.user.photos.small?e.user.photos.small:Ce,alt:""}):Object(y.jsx)(L,{})})]}):Object(y.jsx)("button",{children:"\u0412\u0445\u043e\u0434"})]})})},ye=s(50),Te={id:null,login:null,email:null,isAuth:!1,user:null},Ue=function(e,t,s,n){return{type:"SET-AUTH",auth:{id:e,login:t,email:s,isAuth:n}}},Ae=function(){return function(){var e=Object(D.a)(z.a.mark((function e(t){var s,n,r,a,i,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("auth/me").then((function(e){return e.data}));case 2:if(0!==(s=e.sent).resultCode){e.next=10;break}return n=s.data,r=n.id,a=n.login,i=n.email,t(Ue(r,a,i,!0)),e.next=8,h(r);case 8:c=e.sent,t({type:"SET-AUTH-USER-PROFILE",user:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-AUTH":return Object(p.a)(Object(p.a)({},e),t.auth);case"SET-AUTH-USER-PROFILE":return Object(p.a)(Object(p.a)({},e),{},{user:t.user});default:return e}},Fe=function(e){Object(l.a)(s,e);var t=Object(_.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(y.jsx)(Ie,Object(p.a)({},this.props))}}]),s}(r.Component),Re=Object(U.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,user:e.auth.user}}),{logout:function(){return function(){var e=Object(D.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.delete("auth/login").then((function(e){return e.data}));case 2:0===e.sent.resultCode&&t(Ue(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Fe),Ge=s(47),Me=s.n(Ge),He=Object(ae.a)({form:"login"})((function(e){return Object(y.jsxs)("form",{className:Me.a.login,onSubmit:e.handleSubmit,children:[Object(y.jsx)("h1",{children:"\u0412\u043e\u0439\u0442\u0438"}),Object(y.jsx)("div",{children:Object(y.jsx)(re.a,{className:Me.a.log,placeholder:"Email",validate:ie,name:"email",component:be})}),Object(y.jsx)("div",{children:Object(y.jsx)(re.a,{className:Me.a.pas,placeholder:"Password",validate:ie,name:"password",type:"password",component:be})}),Object(y.jsxs)("div",{className:Me.a.rem,children:[Object(y.jsx)(re.a,{type:"checkbox",name:"rememberMe",component:"input"}),Object(y.jsx)("span",{children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"})]}),Object(y.jsx)("div",{children:e.error&&Object(y.jsx)("span",{className:Me.a.error,children:e.error})}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),ze=Object(U.b)((function(e){return{isAuth:e.auth.isAuth,id:e.auth.id}}),{login:function(e,t,s){return function(){var n=Object(D.a)(z.a.mark((function n(r){var a;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O(e,t,s);case 2:0===(a=n.sent).data.resultCode?r(Ae()):r(Object(ye.a)("login",{_error:a.data.messages.length>0?a.data.messages[0]:"some"}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(y.jsx)("div",{children:e.isAuth?Object(y.jsx)(d.a,{to:"/profile/"+e.id}):Object(y.jsx)(He,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})})})),De=s(25),Ze=s.n(De),We=function(e){return Object(y.jsx)("div",{className:Ze.a.menu__wrapper,children:Object(y.jsxs)("div",{className:Ze.a.menu,children:[Object(y.jsx)("div",{children:Object(y.jsx)(k.b,{to:"/profile/"+e.id,activeClassName:Ze.a.active,children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(y.jsx)("div",{children:Object(y.jsx)(k.b,{to:"/messages",activeClassName:Ze.a.active,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})}),Object(y.jsx)("div",{children:Object(y.jsx)(k.b,{to:"/users",activeClassName:Ze.a.active,children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"})}),Object(y.jsx)("div",{children:Object(y.jsx)(k.b,{to:"/posts",activeClassName:Ze.a.active,children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(y.jsx)("div",{children:Object(y.jsx)(k.b,{to:"/friends",activeClassName:Ze.a.active,children:"\u041c\u043e\u0438 \u0434\u0440\u0443\u0437\u044c\u044f"})}),Object(y.jsx)("div",{children:Object(y.jsx)(k.b,{to:"/photo",activeClassName:Ze.a.active,children:"\u0424\u043e\u0442\u043e"})}),Object(y.jsx)("div",{children:Object(y.jsx)(k.b,{to:"/settings",activeClassName:Ze.a.active,children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]})})},Je=Object(U.b)((function(e){return{id:e.auth.id}}),{})(We),Ve={initialized:!1},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-INITIALIZED":return Object(p.a)(Object(p.a)({},e),{},{initialized:!0});default:return e}},Xe=a.a.lazy((function(){return s.e(3).then(s.bind(null,296))})),qe=function(e){Object(l.a)(s,e);var t=Object(_.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){var e,t=this;return Object(y.jsx)("div",{children:this.props.initialized?Object(y.jsxs)("div",{className:"wrapper",children:[Object(y.jsx)(Re,{}),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(Je,{}),Object(y.jsxs)("div",{className:"content_wrapper",children:[Object(y.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(y.jsx)(Ne,{})}}),Object(y.jsx)(d.b,{path:"/messages",render:(e=Xe,function(t){return Object(y.jsx)(a.a.Suspense,{fallback:L,children:Object(y.jsx)(e,Object(p.a)({},t))})})}),Object(y.jsx)(d.b,{path:"/users",render:function(){return Object(y.jsx)(M,{store:t.props.store})}}),Object(y.jsx)(d.b,{path:"/login",render:function(){return Object(y.jsx)(ze,{})}})]})]})]}):Object(y.jsx)(L,{})})}}]),s}(r.Component),Ke=Object(F.d)(d.f,Object(U.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){Promise.all([e(Ae())]).then((function(){e({type:"SET-INITIALIZED"})}))}}}))(qe),Ye=function(e){e&&e instanceof Function&&s.e(4).then(s.bind(null,295)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),r(e),a(e),i(e)}))},Qe=s(127),$e=s(134),et=s(130),tt=Object(F.c)({app:Be,messagesPage:Qe.a,profilePage:V,usersPage:w,auth:Le,form:et.a}),st=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,nt=Object(F.e)(tt,st(Object(F.a)($e.a)));c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(k.a,{children:Object(y.jsx)(U.a,{store:nt,children:Object(y.jsx)(Ke,{})})})}),document.getElementById("root")),Ye()},35:function(e,t,s){e.exports={post:"Post_post__2vbqN",post__image_and_likes:"Post_post__image_and_likes__10ZIy",post__image_box:"Post_post__image_box__1WXSl",post__image_likes_box:"Post_post__image_likes_box__2-j8o",post__image_likes:"Post_post__image_likes__3v2MI",post__image_comment:"Post_post__image_comment__1ZbOp",post__text_box:"Post_post__text_box__2M0lN"}},46:function(e,t,s){e.exports={posts:"Posts_posts__NgyEg",posts__writenew_wrapper:"Posts_posts__writenew_wrapper__3X01Y",posts__writenew:"Posts_posts__writenew__JNJhw",posts__avatar:"Posts_posts__avatar__1q8UG",posts__whats_new:"Posts_posts__whats_new__2ZMP8"}},47:function(e,t,s){e.exports={login:"Login_login__2M1xV",log:"Login_log__1qZTs",pas:"Login_pas__2EJOj",rem:"Login_rem__3yT-n",error:"Login_error__3yWfV"}},68:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s(3),r=s(10),a=s(11),i=s(0),c=function(e){return{isAuth:e.auth.isAuth}},o=function(e){return Object(a.b)(c)((function(t){return t.isAuth?Object(i.jsx)(e,Object(n.a)({},t)):Object(i.jsx)(r.a,{to:"/login"})}))}},91:function(e,t,s){},94:function(e,t,s){e.exports={status:"Status_status__29fwN",status__input:"Status_status__input__Hsb8c"}}},[[291,1,2]]]);
//# sourceMappingURL=main.3a842916.chunk.js.map